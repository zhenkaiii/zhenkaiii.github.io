<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />

    <!--
    BeaqleJS - HTML5 and JavaScript framework for listening tests, <https://github.com/HSU-ANT/beaqlejs>

    This file and all corresponding parts of BeaqleJS are published under the GPLv3 license, <http://www.gnu.org/licenses/>    
    -->


    <title>BeaqleJS</title>
    
    <!-- load the test config file -->
        <script src="config/example_config_preference.js" type="text/javascript"></script>
    <!---->
    
    <link type="text/css" href="css/smoothness/jquery-ui-1.8.18.custom.css" rel="Stylesheet" />
    <link type="text/css" href="css/styles.css" rel="Stylesheet" />

    <script src="js/jquery.js" type="text/javascript"></script>
    <script src="js/jquery-ui.custom.min.js" type="text/javascript" ></script>
    <script src="js/beaqle.js" type="text/javascript"></script>


    <script type="text/javascript">
    /* <![CDATA[ */
        var testHandle;
        window.onload=function() {

            // Uncomment one of the following lines to choose the desired test class

            //testHandle = new MushraTest(TestConfig);    // <-- MUSHRA test class
            //testHandle = new AbxTest(TestConfig);     // <-- ABX test class
            testHandle = new PrefTest(TestConfig);     // <-- Preference test class

            $('#Footer').prepend(testHandle.browserFeatureString() + '<br/>');
        };
    /* ]]> */
    </script>
   
</head>

<body>

<div id="Wrapper">

    <div id="TestTitle" class="commonBox">
        <!-- overall title at the top 
             DO NOT EDIT! This box is automatically filled with content!
        -->
        Loading...
    </div>
    
    <!-- is displayed during load -->
    <div id="LoadOverlay" class="commonBox">
        <img src="img/ajax-loader.gif"/> &nbsp;&nbsp;&nbsp; Loading...
    </div>

    <!-- introduction before the test starts -->
    <div id="TestIntroduction" class="commonBox">
        
        <!-- edit here if you want to change the welcome message and instructions -->

        <div style="text-align:left">
            Thanks for your interest in participating. The goal of this test is to evaluate the performance of an automatic pitch
            correction algorithm. Before proceeding, please read the following instructions carefully.
            <h1>Test format</h1>
            In this test, you will listen to 10 pairs of 12-second audio clips, randomly selected from a total of 288 pairs.
            The total duration of the test should be 10 minutes or less.
            However, to enter more results (on different samples) you can take the test up to 3 times.
            <br />
            <br />
            The pairs consist of two versions of the same performance: The only difference between them
            is shifted pitch. You will be prompted to make subjective judgements about their relative pitch accuracy and musicality
            by answering 2 questions.
            <ul>
                <li>"Select the version that you find more accurate." Accuracy, here, refers to good musical intonation, or harmonic
                    alignment between the singing voice and the backing track.</li>
                <li>"Select the version that you consider more musical." Musicality, here, refers to the clip being artistically
                    successful, expressive, coherent, enjoyable to listen to, interesting,
                    provoking an emotional response, etc...</li>
            </ul>
            Accuracy and musicality are not necessarily correlated. A performance with more errors might sound more
            musical to the listener.
            <br />
            <br />
            At the end of the test, you will have a chance to leave comments about the test. The results are anonymous.
            If you wish, though, to get a summary of how your preferences compared to the overall results or to listen
            to the clips again after the test, feel free to add your name and/or email when prompted. In this case,
            your name will be added to the result file and I can send you the analysis after the test is over. Otherwise,
            please leave the entries blank.
            <br />
            <br />
            <h1>Considerations:</h1>
            <ul>
                <li>We recommend using Chrome if possible. There have been reports of audio glitches and inability to
                    repeat audio tracks on Safari.</li>
                <li>Please find a quiet place to take this test and make sure you can hear the examples properly</li>
                <li>Participation is voluntary. Feel free to quit the test anytime. Note that no responses will be
                    recorded unless you finish the test. If you wish to record a partial set of responses, you
                    can press "Next" for remaining questions without answering them. </li>
                <li>The interface at the bottom of each test page makes it possible to loop through audio and to set
                    the start and end point of the listening.</li>
            </ul>
            <h1>Examples</h1>
            Some decisions are easier to make than others. As an example, we show one pair where difference is
            quite large, and another where it is subtle. Even if you donâ€™t think you hear a difference,
            please go with your intuition!
            <figure>
            <figcaption>Listen to the T-Rex:</figcaption>
                <audio controls src="/media/examples/t-rex-roar.mp3"> Your browser does not support the <code>audio</code> element.
            </audio>
            </figure>
            <figure>
            <figcaption>Listen to the T-Rex:</figcaption>
                <audio controls src="/media/examples/t-rex-roar.mp3"> Your browser does not support the <code>audio</code> element.
            </audio>
            </figure>



        </div>
        <br />
        <br />
                        
        <!-- this button starts the first test -->
        <button id="BtnStartTest" onclick="testHandle.startTests();">Start!</button>	
    </div>

    <!-- final text after all tests have passed -->
    <div id="TestEnd" class="commonBox">

        <!-- edit here if you want to change the thank you message -->
        Thank you very much!
        <br />
        <br />
        
        <!-- show some informations before submitting the results -->
        <div id="SubmitBox">
            <div id="SubmitError" class="error">
                We are sorry, but the following error occured during your submission:
                <p id="ErrorCode"></p>
            </div>
            <p class="submitOnline">
                <!-- edit here if you want to change the information about online submission, e.g. add privacy policy information -->
                Please submit the results to our server. Entering a name or email address is not mandatory
                but it would help us to contact you if we have further questions. You can also leave a comment.
            </p>
            <p class="submitDownload">
                <!-- edit here if you want to change the information about online submission, e.g. add privacy policy information -->
                Please download and save the results. Entering a name or email address is not mandatory 
                but it would help us to contact you if we have further questions. You can also leave a comment.
            </p>
            <table border=0 style="margin-left: auto;margin-right: auto;">
            <tr><td>Name:</td><td><input id="UserName" type="text" size="40" maxlength="40" /></td></tr>
            <tr><td>Email:</td><td><input id="UserEMail" type="text" size="40" maxlength="40" /></td></tr>
            <tr><td></td><td><textarea id="UserComment" cols="40" rows="4">Your comment...</textarea></td></tr>
            </table>
            <br />
            <button id="BtnSubmitData" class="submitOnline" onclick="testHandle.SubmitTestResults();">Submit</button>
            <button id="BtnDownloadData" class="submitDownload" onclick="testHandle.DownloadTestResults();">Download</button>
            <p class="submitEmail error">
                <!-- edit here if you want to change the information about email submission, e.g. add privacy policy information -->
                Please download the result file and email it to <span class="supervisorEmail"></span>
            </p>
        </div>
        
        <!-- the test results are displayed in this box -->
        <div id="ResultsBox">
        </div>
    </div>

    <div id="TableContainer" class="commonBox">
        <!-- container for the test items and sliders 
             DO NOT EDIT! This box is automatically filled with content!
        -->    

        <!-- heading for the single test -->
        <div id="TestHeading">
        </div>
    
    </div>

    <!-- controls to go to next/previous test -->
    <div id="TestControls" class="commonBox">
        <button id="BtnNextTest">Next Test</>
        <button id="BtnPrevTest">Previous Test</>
    </div>

    <!-- playback control -->
    <div id="PlayerControls" class="commonBox">

        <div id="duration">
            <span>00:00</span>
        </div>
        
        <div id="TimeLine">
            <div id="ProgressBar"></div>
            <div id="ABRange"></div>
        </div>
        
        <div>
            <input id="ChkLoopAudio" type="checkbox" value="Loop" /><label for="ChkLoopAudio">Loop</label>
            <input id="ChkAutoReturn" type="checkbox" value="Auto Return" /><label for="ChkAutoReturn">Auto Return</label>
        </div>
        
        <div id="Volume">
            Volume
            <div id="VolumeSlider"></div>
        </div>
        
        <br style="clear:both"/>
    
    </div>

    <!-- Footer -->
    <div id="Footer">
        This listening test has been created with <a href="https://github.com/HSU-ANT/beaqlejs" target="_blank">BeaqleJS</a> <a href="https://github.com/HSU-ANT/beaqlejs/tree/master" target="_blank">master</a>.
    </div>
</div>

</body>

</html>
